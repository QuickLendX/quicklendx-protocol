warning: unused import: `crate::currency::CurrencyWhitelist`
  --> src/init.rs:29:5
   |
29 | use crate::currency::CurrencyWhitelist;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unused variable: `env`
   --> src/init.rs:208:9
    |
208 |         env: &Env,
    |         ^^^ help: if this is intentional, prefix it with an underscore: `_env`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `env`
   --> src/invoice.rs:164:13
    |
164 |             env: &Env,
    |             ^^^ help: if this is intentional, prefix it with an underscore: `_env`

warning: constant `PROTOCOL_INITIALIZED_KEY` is never used
  --> src/init.rs:34:7
   |
34 | const PROTOCOL_INITIALIZED_KEY: Symbol = symbol_short!("proto_in");
   |       ^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: constant `TREASURY_KEY` is never used
  --> src/init.rs:40:7
   |
40 | const TREASURY_KEY: Symbol = symbol_short!("treasury");
   |       ^^^^^^^^^^^^

warning: constant `FEE_BPS_KEY` is never used
  --> src/init.rs:43:7
   |
43 | const FEE_BPS_KEY: Symbol = symbol_short!("fee_bps");
   |       ^^^^^^^^^^^

warning: constant `WHITELIST_KEY` is never used
  --> src/init.rs:46:7
   |
46 | const WHITELIST_KEY: Symbol = symbol_short!("curr_wl");
   |       ^^^^^^^^^^^^^

warning: constant `DEFAULT_MIN_INVOICE_AMOUNT` is never used
  --> src/init.rs:49:7
   |
49 | const DEFAULT_MIN_INVOICE_AMOUNT: i128 = 1_000_000; // 1 token (6 decimals)
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: constant `DEFAULT_MAX_DUE_DATE_DAYS` is never used
  --> src/init.rs:50:7
   |
50 | const DEFAULT_MAX_DUE_DATE_DAYS: u64 = 365;
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: constant `DEFAULT_GRACE_PERIOD_SECONDS` is never used
  --> src/init.rs:51:7
   |
51 | const DEFAULT_GRACE_PERIOD_SECONDS: u64 = 7 * 24 * 60 * 60; // 7 days
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: constant `DEFAULT_FEE_BPS` is never used
  --> src/init.rs:52:7
   |
52 | const DEFAULT_FEE_BPS: u32 = 200; // 2%
   |       ^^^^^^^^^^^^^^^

warning: constant `MAX_FEE_BPS` is never used
  --> src/init.rs:53:7
   |
53 | const MAX_FEE_BPS: u32 = 1000; // 10%
   |       ^^^^^^^^^^^

warning: constant `MIN_FEE_BPS` is never used
  --> src/init.rs:54:7
   |
54 | const MIN_FEE_BPS: u32 = 0;
   |       ^^^^^^^^^^^

warning: multiple associated functions are never used
   --> src/init.rs:124:12
    |
101 | impl ProtocolInitializer {
    | ------------------------ associated functions in this implementation
...
124 |     pub fn initialize(
    |            ^^^^^^^^^^
...
196 |     pub fn is_initialized(env: &Env) -> bool {
    |            ^^^^^^^^^^^^^^
...
207 |     fn validate_initialization_params(
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
251 |     pub fn set_protocol_config(
    |            ^^^^^^^^^^^^^^^^^^^
...
313 |     pub fn set_fee_config(
    |            ^^^^^^^^^^^^^^
...
350 |     pub fn set_treasury(
    |            ^^^^^^^^^^^^
...
391 |     pub fn get_fee_bps(env: &Env) -> u32 {
    |            ^^^^^^^^^^^
...
406 |     pub fn get_treasury(env: &Env) -> Option<Address> {
    |            ^^^^^^^^^^^^
...
417 |     pub fn get_min_invoice_amount(env: &Env) -> i128 {
    |            ^^^^^^^^^^^^^^^^^^^^^^
...
430 |     pub fn get_max_due_date_days(env: &Env) -> u64 {
    |            ^^^^^^^^^^^^^^^^^^^^^
...
443 |     pub fn get_grace_period_seconds(env: &Env) -> u64 {
    |            ^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `emit_protocol_initialized` is never used
   --> src/init.rs:455:4
    |
455 | fn emit_protocol_initialized(
    |    ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `emit_protocol_config_updated` is never used
   --> src/init.rs:479:4
    |
479 | fn emit_protocol_config_updated(
    |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `emit_fee_config_updated` is never used
   --> src/init.rs:499:4
    |
499 | fn emit_fee_config_updated(env: &Env, admin: &Address, fee_bps: u32) {
    |    ^^^^^^^^^^^^^^^^^^^^^^^

warning: function `emit_treasury_updated` is never used
   --> src/init.rs:507:4
    |
507 | fn emit_treasury_updated(env: &Env, admin: &Address, treasury: &Address) {
    |    ^^^^^^^^^^^^^^^^^^^^^

warning: constant `MAX_TAG_LENGTH` is never used
  --> src/protocol_limits.rs:29:11
   |
29 | pub const MAX_TAG_LENGTH: u32 = 50;
   |           ^^^^^^^^^^^^^^

warning: associated function `get_default_date` is never used
   --> src/protocol_limits.rs:134:12
    |
49  | impl ProtocolLimitsHelpers {
    | -------------------------- associated function in this implementation
...
134 |     pub fn get_default_date(env: Env, due_date: u64) -> u64 {
    |            ^^^^^^^^^^^^^^^^

warning: function `get_payment_count` is never used
   --> src/settlement.rs:293:8
    |
293 | pub fn get_payment_count(env: &Env, invoice_id: &BytesN<32>) -> Result<u32, QuickLendXError> {
    |        ^^^^^^^^^^^^^^^^^

warning: function `get_payment_records` is never used
   --> src/settlement.rs:312:8
    |
312 | pub fn get_payment_records(
    |        ^^^^^^^^^^^^^^^^^^^

warning: `quicklendx-contracts` (lib) generated 22 warnings (run `cargo fix --lib -p quicklendx-contracts` to apply 1 suggestion)
warning: unused import: `BytesN`
  --> src/test_string_limits.rs:11:14
   |
11 |     Address, BytesN, Env, String, Vec,
   |              ^^^^^^

warning: unused import: `BytesN as _`
  --> src/test_dispute.rs:15:31
   |
15 |     testutils::{Address as _, BytesN as _},
   |                               ^^^^^^^^^^^

warning: unused imports: `PlatformFeeConfig` and `PlatformFee`
  --> src/test_storage.rs:18:22
   |
18 | use crate::profits::{PlatformFee, PlatformFeeConfig};
   |                      ^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^

warning: unused import: `ConfigStorage`
  --> src/test_storage.rs:20:17
   |
20 |     BidStorage, ConfigStorage, Indexes, InvestmentStorage, InvoiceStorage, StorageKeys,
   |                 ^^^^^^^^^^^^^

warning: unused import: `crate::verification::BusinessVerificationStatus`
  --> src/test/test_invoice.rs:11:5
   |
11 | use crate::verification::BusinessVerificationStatus;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `InvoiceStatus`
 --> src/test/test_invoice_categories.rs:2:39
  |
2 | use crate::invoice::{InvoiceCategory, InvoiceStatus};
  |                                       ^^^^^^^^^^^^^

warning: unused import: `Ledger`
 --> src/test/test_invoice_metadata.rs:5:31
  |
5 |     testutils::{Address as _, Ledger},
  |                               ^^^^^^

warning: unused imports: `AnalyticsStorage`, `FinancialMetrics`, and `PlatformMetrics`
  --> src/test/test_analytics.rs:14:26
   |
14 |     AnalyticsCalculator, AnalyticsStorage, FinancialMetrics, PlatformMetrics, TimePeriod,
   |                          ^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^

warning: cannot test inner items
   --> src/test_bid.rs:225:1
    |
225 | #[test]
    | ^^^^^^^
    |
    = note: `#[warn(unnameable_test_items)]` on by default
    = note: this warning originates in the attribute macro `test` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: cannot test inner items
   --> src/test_bid.rs:244:1
    |
244 | #[test]
    | ^^^^^^^
    |
    = note: this warning originates in the attribute macro `test` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: cannot test inner items
   --> src/test_bid.rs:266:1
    |
266 | #[test]
    | ^^^^^^^
    |
    = note: this warning originates in the attribute macro `test` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: unused import: `crate::bid::BidStatus`
  --> src/test_bid_ranking.rs:10:5
   |
10 | use crate::bid::BidStatus;
   |     ^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `Ledger`
  --> src/test_investor_kyc.rs:17:35
   |
17 |         testutils::{Address as _, Ledger},
   |                                   ^^^^^^

warning: unused import: `crate::errors::QuickLendXError`
 --> src/test_limit.rs:3:5
  |
3 | use crate::errors::QuickLendXError;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: use of deprecated method `soroban_sdk::Env::register_stellar_asset_contract`: use [Env::register_stellar_asset_contract_v2]
   --> src/test.rs:362:24
    |
362 |     let currency = env.register_stellar_asset_contract(token_admin);
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(deprecated)]` on by default

warning: use of deprecated method `soroban_sdk::Env::register_stellar_asset_contract`: use [Env::register_stellar_asset_contract_v2]
   --> src/test.rs:933:24
    |
933 |     let currency = env.register_stellar_asset_contract(token_admin);
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: use of deprecated method `soroban_sdk::Env::register_stellar_asset_contract`: use [Env::register_stellar_asset_contract_v2]
   --> src/test.rs:989:24
    |
989 |     let currency = env.register_stellar_asset_contract(token_admin);
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: use of deprecated method `soroban_sdk::Env::register_stellar_asset_contract`: use [Env::register_stellar_asset_contract_v2]
    --> src/test.rs:1041:24
     |
1041 |     let currency = env.register_stellar_asset_contract(token_admin);
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: use of deprecated method `soroban_sdk::Env::register_stellar_asset_contract`: use [Env::register_stellar_asset_contract_v2]
    --> src/test.rs:1098:24
     |
1098 |     let currency = env.register_stellar_asset_contract(token_admin);
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: use of deprecated method `soroban_sdk::Env::register_stellar_asset_contract`: use [Env::register_stellar_asset_contract_v2]
    --> src/test.rs:1180:24
     |
1180 |     let currency = env.register_stellar_asset_contract(token_admin);
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `Ledger`
 --> src/test_currency.rs:9:31
  |
9 |     testutils::{Address as _, Ledger},
  |                               ^^^^^^

warning: unused import: `Ledger`
 --> src/test_queries.rs:6:31
  |
6 |     testutils::{Address as _, Ledger},
  |                               ^^^^^^

warning: variable does not need to be mutable
   --> src/storage.rs:248:13
    |
248 |         let mut ids: Vec<BytesN<32>> = env.storage().persistent().get(&key).unwrap_or(Vec::new(env));
    |             ----^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` on by default

warning: variable does not need to be mutable
   --> src/storage.rs:269:13
    |
269 |         let mut ids: Vec<BytesN<32>> = env.storage().persistent().get(&key).unwrap_or(Vec::new(env));
    |             ----^^^
    |             |
    |             help: remove this `mut`

warning: unused variable: `env`
    --> src/test_business_kyc.rs:1012:10
     |
1012 |     let (env, client, _admin) = setup();
     |          ^^^ help: if this is intentional, prefix it with an underscore: `_env`

warning: unused variable: `env`
    --> src/test_business_kyc.rs:1020:10
     |
1020 |     let (env, client, _admin) = setup();
     |          ^^^ help: if this is intentional, prefix it with an underscore: `_env`

warning: unused variable: `env`
    --> src/test_business_kyc.rs:1028:10
     |
1028 |     let (env, client, _admin) = setup();
     |          ^^^ help: if this is intentional, prefix it with an underscore: `_env`

warning: unused variable: `result`
   --> src/test_cancel_refund.rs:552:9
    |
552 |     let result = client.try_cancel_invoice(&invoice_id);
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_result`

warning: unused variable: `result`
   --> src/test_cancel_refund.rs:575:9
    |
575 |     let result = client.try_cancel_invoice(&invoice_id);
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_result`

warning: unused variable: `invoice_id_3`
   --> src/test_dispute.rs:465:9
    |
465 |     let invoice_id_3 = create_test_invoice(&env, &client, &business, 200_000);
    |         ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_invoice_id_3`

warning: unused variable: `env`
   --> src/test_overflow.rs:159:10
    |
159 |     let (env, client, _admin) = setup_test();
    |          ^^^ help: if this is intentional, prefix it with an underscore: `_env`

warning: unused variable: `env`
   --> src/test_overflow.rs:290:9
    |
290 |     let env = Env::default();
    |         ^^^ help: if this is intentional, prefix it with an underscore: `_env`

warning: unused variable: `env`
   --> src/test_overflow.rs:335:10
    |
335 |     let (env, client, _admin) = setup_test();
    |          ^^^ help: if this is intentional, prefix it with an underscore: `_env`

warning: unused variable: `business`
   --> src/test/test_invoice.rs:460:9
    |
460 |     let business = setup_verified_business(&env, &client);
    |         ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_business`

warning: unused variable: `other_user`
    --> src/test/test_invoice.rs:1066:9
     |
1066 |     let other_user = Address::generate(&env);
     |         ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_other_user`

warning: unused variable: `non_admin`
    --> src/test/test_invoice.rs:1098:9
     |
1098 |     let non_admin = Address::generate(&env);
     |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_non_admin`

warning: unused variable: `env`
   --> src/test/test_invoice_categories.rs:149:10
    |
149 |     let (env, client, _admin) = setup_env();
    |          ^^^ help: if this is intentional, prefix it with an underscore: `_env`

warning: unused variable: `env`
   --> src/test/test_invoice_categories.rs:256:10
    |
256 |     let (env, client, _admin) = setup_env();
    |          ^^^ help: if this is intentional, prefix it with an underscore: `_env`

warning: unused variable: `token_client`
   --> src/test.rs:363:9
    |
363 |     let token_client = token::Client::new(&env, &currency);
    |         ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_token_client`

warning: unused variable: `i`
    --> src/test.rs:2101:9
     |
2101 |     for i in 0..10 {
     |         ^ help: if this is intentional, prefix it with an underscore: `_i`

warning: unused variable: `bid1`
   --> src/test_bid_ranking.rs:172:9
    |
172 |     let bid1 = client.place_bid(&investor1, &invoice_id, &5_000, &6_000);
    |         ^^^^ help: if this is intentional, prefix it with an underscore: `_bid1`

warning: unused variable: `bid3`
   --> src/test_bid_ranking.rs:178:9
    |
178 |     let bid3 = client.place_bid(&investor3, &invoice_id, &5_000, &6_500);
    |         ^^^^ help: if this is intentional, prefix it with an underscore: `_bid3`

warning: unused variable: `admin`
  --> src/test_fees.rs:21:65
   |
21 | fn setup_investor(env: &Env, client: &QuickLendXContractClient, admin: &Address) -> Address {
   |                                                                 ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `admin`
   --> src/test_fees.rs:147:9
    |
147 |     let admin = setup_admin(&env, &client);
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `admin`
   --> src/test_fees.rs:177:9
    |
177 |     let admin = setup_admin(&env, &client);
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `non_admin`
   --> src/test_fees.rs:269:9
    |
269 |     let non_admin = Address::generate(&env);
    |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_non_admin`

warning: unused variable: `admin`
  --> src/test_audit.rs:53:23
   |
53 |     let (env, client, admin, business) = setup();
   |                       ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `admin`
   --> src/test_currency.rs:166:23
    |
166 |     let (env, client, admin) = setup();
    |                       ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `token_client`
  --> src/test_events.rs:91:9
   |
91 |     let token_client = token::Client::new(&env, &currency);
   |         ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_token_client`

warning: unused variable: `invoice2`
   --> src/test_default.rs:509:9
    |
509 |     let invoice2 = client.get_invoice(&invoice2_id);
    |         ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_invoice2`

warning: unused variable: `admin`
   --> src/test_partial_payments.rs:402:5
    |
402 |     admin: &Address,
    |     ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `actor`
   --> src/test_queries.rs:403:9
    |
403 |     let actor = Address::generate(&env);
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_actor`

warning: unused variable: `filter_inv1`
   --> src/test_queries.rs:449:9
    |
449 |     let filter_inv1 = AuditQueryFilter {
    |         ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_filter_inv1`

warning: unused variable: `filter_created`
   --> src/test_queries.rs:472:9
    |
472 |     let filter_created = AuditQueryFilter {
    |         ^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_filter_created`

warning: unused variable: `env`
   --> src/test_backup.rs:181:10
    |
181 |     let (env, client, admin) = setup();
    |          ^^^ help: if this is intentional, prefix it with an underscore: `_env`

warning: unused variable: `contract`
   --> src/test_escrow_refund.rs:329:10
    |
329 |     for (contract, topics, data) in events.iter() {
    |          ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_contract`

warning: unused variable: `contract_id`
   --> src/test_insurance.rs:160:23
    |
160 |     let (env, client, contract_id) = setup();
    |                       ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_contract_id`

warning: unused variable: `admin`
   --> src/test_investor_kyc.rs:102:27
    |
102 |         let (env, client, admin) = setup();
    |                           ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `non_admin`
   --> src/test_investor_kyc.rs:179:13
    |
179 |         let non_admin = Address::generate(&env);
    |             ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_non_admin`

warning: unused variable: `result`
   --> src/test_investor_kyc.rs:192:13
    |
192 |         let result = client.try_verify_investor(&investor, &investment_limit);
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_result`

warning: unused variable: `admin`
   --> src/test_investor_kyc.rs:199:27
    |
199 |         let (env, client, admin) = setup();
    |                           ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `business`
   --> src/test_investor_kyc.rs:482:13
    |
482 |         let business = Address::generate(&env);
    |             ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_business`

warning: unused variable: `high_risk`
   --> src/test_investor_kyc.rs:610:13
    |
610 |         let high_risk = client.get_investors_by_risk_level(&InvestorRiskLevel::High);
    |             ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_high_risk`

warning: unused variable: `admin`
   --> src/test_investor_kyc.rs:752:27
    |
752 |         let (env, client, admin) = setup();
    |                           ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `admin`
  --> src/test_profit_fee_formula.rs:40:65
   |
40 | fn setup_investor(env: &Env, client: &QuickLendXContractClient, admin: &Address) -> Address {
   |                                                                 ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `admin`
  --> src/test_profit_fee_formula.rs:80:9
   |
80 |     let admin = setup_admin(&env, &client);
   |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `admin`
   --> src/test_profit_fee_formula.rs:103:9
    |
103 |     let admin = setup_admin(&env, &client);
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `admin`
   --> src/test_profit_fee_formula.rs:126:9
    |
126 |     let admin = setup_admin(&env, &client);
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `admin`
   --> src/test_profit_fee_formula.rs:301:9
    |
301 |     let admin = setup_admin(&env, &client);
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `admin`
   --> src/test_profit_fee_formula.rs:343:9
    |
343 |     let admin = setup_admin(&env, &client);
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `admin`
   --> src/test_profit_fee_formula.rs:374:9
    |
374 |     let admin = setup_admin(&env, &client);
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `admin`
   --> src/test_profit_fee_formula.rs:590:9
    |
590 |     let admin = setup_admin(&env, &client);
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: unused variable: `admin`
   --> src/test_profit_fee_formula.rs:604:9
    |
604 |     let admin = setup_admin(&env, &client);
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_admin`

warning: multiple associated functions are never used
   --> src/init.rs:124:12
    |
101 | impl ProtocolInitializer {
    | ------------------------ associated functions in this implementation
...
124 |     pub fn initialize(
    |            ^^^^^^^^^^
...
196 |     pub fn is_initialized(env: &Env) -> bool {
    |            ^^^^^^^^^^^^^^
...
207 |     fn validate_initialization_params(
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
313 |     pub fn set_fee_config(
    |            ^^^^^^^^^^^^^^
...
350 |     pub fn set_treasury(
    |            ^^^^^^^^^^^^
...
391 |     pub fn get_fee_bps(env: &Env) -> u32 {
    |            ^^^^^^^^^^^
...
406 |     pub fn get_treasury(env: &Env) -> Option<Address> {
    |            ^^^^^^^^^^^^
...
443 |     pub fn get_grace_period_seconds(env: &Env) -> u64 {
    |            ^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `make_breakdown` is never used
   --> src/profits.rs:501:8
    |
501 |     fn make_breakdown(
    |        ^^^^^^^^^^^^^^

warning: struct `ConfigStorage` is never constructed
   --> src/storage.rs:537:12
    |
537 | pub struct ConfigStorage;
    |            ^^^^^^^^^^^^^

warning: associated functions `set_platform_fees` and `get_platform_fees` are never used
   --> src/storage.rs:541:12
    |
539 | impl ConfigStorage {
    | ------------------ associated functions in this implementation
540 |     /// Store platform fee configuration
541 |     pub fn set_platform_fees(env: &Env, config: &PlatformFeeConfig) {
    |            ^^^^^^^^^^^^^^^^^
...
548 |     pub fn get_platform_fees(env: &Env) -> Option<PlatformFeeConfig> {
    |            ^^^^^^^^^^^^^^^^^

warning: associated function `is_business_verified` is never used
   --> src/verification.rs:124:12
    |
72  | impl BusinessVerificationStorage {
    | -------------------------------- associated function in this implementation
...
124 |     pub fn is_business_verified(env: &Env, business: &Address) -> bool {
    |            ^^^^^^^^^^^^^^^^^^^^

warning: associated constants `INVESTOR_HISTORY_KEY` and `INVESTOR_ANALYTICS_KEY` are never used
   --> src/verification.rs:255:11
    |
250 | impl InvestorVerificationStorage {
    | -------------------------------- associated constants in this implementation
...
255 |     const INVESTOR_HISTORY_KEY: &'static str = "investor_history";
    |           ^^^^^^^^^^^^^^^^^^^^
256 |     #[cfg(test)]
257 |     const INVESTOR_ANALYTICS_KEY: &'static str = "investor_analytics";
    |           ^^^^^^^^^^^^^^^^^^^^^^

warning: function `require_business_verification` is never used
   --> src/verification.rs:629:8
    |
629 | pub fn require_business_verification(env: &Env, business: &Address) -> Result<(), QuickLendXError> {
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_audit_trail_creation` is never used
    --> src/test.rs:2140:4
     |
2140 | fn test_audit_trail_creation() {
     |    ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_audit_integrity_validation` is never used
    --> src/test.rs:2184:4
     |
2184 | fn test_audit_integrity_validation() {
     |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_audit_query_functionality` is never used
    --> src/test.rs:2223:4
     |
2223 | fn test_audit_query_functionality() {
     |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_audit_statistics` is never used
    --> src/test.rs:2292:4
     |
2292 | fn test_audit_statistics() {
     |    ^^^^^^^^^^^^^^^^^^^^^

warning: function `test_create_dispute` is never used
    --> src/test.rs:2816:4
     |
2816 | fn test_create_dispute() {
     |    ^^^^^^^^^^^^^^^^^^^

warning: function `test_create_dispute_as_investor` is never used
    --> src/test.rs:2861:4
     |
2861 | fn test_create_dispute_as_investor() {
     |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_unauthorized_dispute_creation` is never used
    --> src/test.rs:2910:4
     |
2910 | fn test_unauthorized_dispute_creation() {
     |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_duplicate_dispute_prevention` is never used
    --> src/test.rs:2945:4
     |
2945 | fn test_duplicate_dispute_prevention() {
     |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_dispute_under_review` is never used
    --> src/test.rs:2985:4
     |
2985 | fn test_dispute_under_review() {
     |    ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_resolve_dispute` is never used
    --> src/test.rs:3028:4
     |
3028 | fn test_resolve_dispute() {
     |    ^^^^^^^^^^^^^^^^^^^^

warning: function `test_get_invoices_with_disputes` is never used
    --> src/test.rs:3086:4
     |
3086 | fn test_get_invoices_with_disputes() {
     |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_get_invoices_by_dispute_status` is never used
    --> src/test.rs:3139:4
     |
3139 | fn test_get_invoices_by_dispute_status() {
     |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_dispute_validation` is never used
    --> src/test.rs:3198:4
     |
3198 | fn test_dispute_validation() {
     |    ^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_default_bid_ttl_used_in_place_bid` is never used
   --> src/test_bid.rs:226:4
    |
226 | fn test_default_bid_ttl_used_in_place_bid() {
    |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_admin_can_update_ttl_and_bid_uses_new_value` is never used
   --> src/test_bid.rs:245:4
    |
245 | fn test_admin_can_update_ttl_and_bid_uses_new_value() {
    |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_set_bid_ttl_bounds_enforced` is never used
   --> src/test_bid.rs:267:4
    |
267 | fn test_set_bid_ttl_bounds_enforced() {
    |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `setup_business` is never used
  --> src/test_fees.rs:13:4
   |
13 | fn setup_business(env: &Env, client: &QuickLendXContractClient, admin: &Address) -> Address {
   |    ^^^^^^^^^^^^^^

warning: function `setup_business` is never used
  --> src/test_profit_fee_formula.rs:32:4
   |
32 | fn setup_business(env: &Env, client: &QuickLendXContractClient, admin: &Address) -> Address {
   |    ^^^^^^^^^^^^^^

warning: function `setup_investor` is never used
  --> src/test_profit_fee_formula.rs:40:4
   |
40 | fn setup_investor(env: &Env, client: &QuickLendXContractClient, admin: &Address) -> Address {
   |    ^^^^^^^^^^^^^^

warning: comparison is useless due to type limits
    --> src/test.rs:2581:13
     |
2581 |     assert!(stats.total_sent >= 0);
     |             ^^^^^^^^^^^^^^^^^^^^^
     |
     = note: `#[warn(unused_comparisons)]` on by default

warning: comparison is useless due to type limits
    --> src/test.rs:2582:13
     |
2582 |     assert!(stats.total_delivered >= 0);
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: comparison is useless due to type limits
    --> src/test.rs:2583:13
     |
2583 |     assert!(stats.total_read >= 0);
     |             ^^^^^^^^^^^^^^^^^^^^^

warning: comparison is useless due to type limits
    --> src/test.rs:2584:13
     |
2584 |     assert!(stats.total_failed >= 0);
     |             ^^^^^^^^^^^^^^^^^^^^^^^

warning: comparison is useless due to type limits
    --> src/test.rs:2679:13
     |
2679 |     assert!(overdue_count >= 0);
     |             ^^^^^^^^^^^^^^^^^^

warning: `quicklendx-contracts` (lib test) generated 120 warnings (16 duplicates) (run `cargo fix --lib -p quicklendx-contracts --tests` to apply 13 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.67s
     Running unittests src/lib.rs (target/debug/deps/quicklendx_contracts-81ec261166014de6)

running 42 tests
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_admin_can_reject_investor" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_admin_can_reject_investor.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_admin_can_verify_investor" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_admin_can_verify_investor.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_admin_can_query_investors_by_risk_level" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_admin_can_query_investors_by_risk_level.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_admin_can_query_investors_by_tier" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_admin_can_query_investors_by_tier.1.json".

thread 'test_investor_kyc::test_investor_kyc::test_bid_exceeding_investment_limit_fails' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

thread 'test_investor_kyc::test_investor_kyc::test_complete_investor_workflow' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]


thread 'test_investor_kyc::test_investor_kyc::test_bid_within_investment_limit_succeeds' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_complete_investor_workflow" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_complete_investor_workflow.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_bid_exceeding_investment_limit_fails" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_bid_exceeding_investment_limit_fails.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_bid_within_investment_limit_succeeds" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_bid_within_investment_limit_succeeds.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_admin_can_query_investor_lists" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_admin_can_query_investor_lists.1.json".
test test_investor_kyc::test_investor_kyc::test_admin_can_query_investors_by_risk_level ... ok
test test_investor_kyc::test_investor_kyc::test_admin_can_reject_investor ... ok
test test_investor_kyc::test_investor_kyc::test_admin_can_query_investors_by_tier ... ok
test test_investor_kyc::test_investor_kyc::test_bid_exceeding_investment_limit_fails ... FAILED
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_comprehensive_kyc_improves_risk_assessment" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_comprehensive_kyc_improves_risk_assessment.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_investor_analytics_tracking" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_investor_analytics_tracking.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_investor_kyc_duplicate_submission_fails" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_investor_kyc_duplicate_submission_fails.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_investor_kyc_resubmission_after_rejection" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_investor_kyc_resubmission_after_rejection.1.json".
test test_investor_kyc::test_investor_kyc::test_bid_within_investment_limit_succeeds ... FAILED
test test_investor_kyc::test_investor_kyc::test_admin_can_verify_investor ... ok
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_investor_kyc_submission_requires_auth" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_investor_kyc_submission_requires_auth.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_investor_kyc_submission_succeeds" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_investor_kyc_submission_succeeds.1.json".
test test_investor_kyc::test_investor_kyc::test_investor_kyc_duplicate_submission_fails ... ok
test test_investor_kyc::test_investor_kyc::test_complete_investor_workflow ... FAILED
test test_investor_kyc::test_investor_kyc::test_investor_analytics_tracking ... ok

thread 'test_investor_kyc::test_investor_kyc::test_investor_without_kyc_cannot_bid' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_investor_without_kyc_cannot_bid" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_investor_without_kyc_cannot_bid.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_investor_verification_data_integrity" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_investor_verification_data_integrity.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_investor_verification_status_transitions" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_investor_verification_status_transitions.1.json".
test test_investor_kyc::test_investor_kyc::test_investor_kyc_resubmission_after_rejection ... ok
test test_investor_kyc::test_investor_kyc::test_investor_without_kyc_cannot_bid ... FAILED

thread 'test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_false_for_none' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_false_for_none" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_is_investor_verified_returns_false_for_none.1.json".

thread 'test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_false_for_pending' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_false_for_pending" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_is_investor_verified_returns_false_for_pending.1.json".
test test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_false_for_none ... FAILED

thread 'test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_false_for_rejected' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_false_for_rejected" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_is_investor_verified_returns_false_for_rejected.1.json".
test test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_false_for_rejected ... FAILED

thread 'test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_true_for_verified' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_true_for_verified" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_is_investor_verified_returns_true_for_verified.1.json".
test test_investor_kyc::test_investor_kyc::test_investor_kyc_submission_succeeds ... ok
test test_investor_kyc::test_investor_kyc::test_comprehensive_kyc_improves_risk_assessment ... ok
test test_investor_kyc::test_investor_kyc::test_investor_kyc_submission_requires_auth ... ok
test test_investor_kyc::test_investor_kyc::test_investor_verification_data_integrity ... ok
test test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_false_for_pending ... FAILED
test test_investor_kyc::test_investor_kyc::test_investor_verification_status_transitions ... ok

thread 'test_investor_kyc::test_investor_kyc::test_limit_update_applies_to_new_bids_only' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_limit_update_applies_to_new_bids_only" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_limit_update_applies_to_new_bids_only.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_negative_investment_limit_verification_fails" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_negative_investment_limit_verification_fails.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_is_investor_verified_state_transitions" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_is_investor_verified_state_transitions.1.json".

thread 'test_investor_kyc::test_investor_kyc::test_multiple_investors_different_limits' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDR4, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDR4, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_multiple_investors_different_limits" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_multiple_investors_different_limits.1.json".

thread 'test_investor_kyc::test_investor_kyc::test_is_investor_verified_with_different_risk_levels' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDR4, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDR4, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_is_investor_verified_with_different_risk_levels" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_is_investor_verified_with_different_risk_levels.1.json".

thread 'test_investor_kyc::test_investor_kyc::test_multiple_investors_competitive_bidding' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDR4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOLZM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDR4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOLZM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_multiple_investors_competitive_bidding" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_multiple_investors_competitive_bidding.1.json".
test test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_true_for_verified ... FAILED
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_non_admin_cannot_verify_investor" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_non_admin_cannot_verify_investor.1.json".
test test_investor_kyc::test_investor_kyc::test_negative_investment_limit_verification_fails ... ok
test test_investor_kyc::test_investor_kyc::test_admin_can_query_investor_lists ... ok

thread 'test_investor_kyc::test_investor_kyc::test_rejected_investor_cannot_bid' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_rejected_investor_cannot_bid" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_rejected_investor_cannot_bid.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_risk_level_affects_investment_limits" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_risk_level_affects_investment_limits.1.json".
test test_investor_kyc::test_investor_kyc::test_limit_update_applies_to_new_bids_only ... FAILED

thread 'test_investor_kyc::test_investor_kyc::test_unverified_investor_cannot_bid' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_unverified_investor_cannot_bid" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_unverified_investor_cannot_bid.1.json".
test test_investor_kyc::test_investor_kyc::test_non_admin_cannot_verify_investor ... ok
test test_investor_kyc::test_investor_kyc::test_is_investor_verified_state_transitions ... ok

thread 'test_investor_kyc::test_investor_kyc::test_validate_investor_investment_at_limit_boundary' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 125000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 125000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_validate_investor_investment_at_limit_boundary" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_validate_investor_investment_at_limit_boundary.1.json".

thread 'test_investor_kyc::test_investor_kyc::test_validate_investor_investment_multiple_bids_independent_validation' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_validate_investor_investment_multiple_bids_independent_validation" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_validate_investor_investment_multiple_bids_independent_validation.1.json".
test test_investor_kyc::test_investor_kyc::test_unverified_investor_cannot_bid ... FAILED

thread 'test_investor_kyc::test_investor_kyc::test_validate_investor_investment_over_limit' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 500000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 500000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_validate_investor_investment_over_limit" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_validate_investor_investment_over_limit.1.json".
test test_investor_kyc::test_investor_kyc::test_rejected_investor_cannot_bid ... FAILED
test test_investor_kyc::test_investor_kyc::test_risk_level_affects_investment_limits ... ok

thread 'test_investor_kyc::test_investor_kyc::test_validate_investor_investment_pending_investor' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_validate_investor_investment_pending_investor" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_validate_investor_investment_pending_investor.1.json".

thread 'test_investor_kyc::test_investor_kyc::test_validate_investor_investment_rejected_investor' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_validate_investor_investment_rejected_investor" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_validate_investor_investment_rejected_investor.1.json".
test test_investor_kyc::test_investor_kyc::test_multiple_investors_different_limits ... FAILED

thread 'test_investor_kyc::test_investor_kyc::test_validate_investor_investment_unverified_investor' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 100000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_validate_investor_investment_unverified_investor" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_validate_investor_investment_unverified_investor.1.json".
test test_investor_kyc::test_investor_kyc::test_is_investor_verified_with_different_risk_levels ... FAILED
test test_investor_kyc::test_investor_kyc::test_validate_investor_investment_unverified_investor ... FAILED

thread 'test_investor_kyc::test_investor_kyc::test_validate_investor_investment_within_limit' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 150000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 150000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_validate_investor_investment_within_limit" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_validate_investor_investment_within_limit.1.json".
test test_investor_kyc::test_investor_kyc::test_validate_investor_investment_multiple_bids_independent_validation ... FAILED
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_verify_already_verified_investor_fails" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_verify_already_verified_investor_fails.1.json".
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_verify_investor_with_invalid_limit_fails" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_verify_investor_with_invalid_limit_fails.1.json".
test test_investor_kyc::test_investor_kyc::test_validate_investor_investment_at_limit_boundary ... FAILED
Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_verify_investor_without_kyc_submission_fails" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_verify_investor_without_kyc_submission_fails.1.json".
test test_investor_kyc::test_investor_kyc::test_validate_investor_investment_over_limit ... FAILED
test test_investor_kyc::test_investor_kyc::test_validate_investor_investment_pending_investor ... FAILED

thread 'test_investor_kyc::test_investor_kyc::test_zero_amount_bid_fails_regardless_of_limit' panicked at /Users/kanas/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/soroban-env-host-22.1.3/src/host.rs:847:9:
HostError: Error(Contract, #1013)

Event log (newest first):
   0: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:"escalating error to panic"
   1: [Diagnostic Event] topics:[error, Error(Contract, #1013)], data:["contract call failed", store_invoice, [CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]]
   2: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[error, Error(Contract, #1013)], data:"escalating Ok(ScErrorType::Contract) frame-exit to Err"
   3: [Failed Diagnostic Event (not emitted)] contract:CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, topics:[fn_return, store_invoice], data:Error(Contract, #1013)
   4: [Diagnostic Event] topics:[fn_call, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2KM, store_invoice], data:[CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAITA4, 50000, CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK3IM, 86400, "Test Invoice", [Services], []]

Writing test snapshot file for test "test_investor_kyc::test_investor_kyc::test_zero_amount_bid_fails_regardless_of_limit" to "test_snapshots/test_investor_kyc/test_investor_kyc/test_zero_amount_bid_fails_regardless_of_limit.1.json".
test test_investor_kyc::test_investor_kyc::test_verify_investor_without_kyc_submission_fails ... ok
test test_investor_kyc::test_investor_kyc::test_validate_investor_investment_rejected_investor ... FAILED
test test_investor_kyc::test_investor_kyc::test_multiple_investors_competitive_bidding ... FAILED
test test_investor_kyc::test_investor_kyc::test_verify_investor_with_invalid_limit_fails ... ok
test test_investor_kyc::test_investor_kyc::test_verify_already_verified_investor_fails ... ok
test test_investor_kyc::test_investor_kyc::test_validate_investor_investment_within_limit ... FAILED
test test_investor_kyc::test_investor_kyc::test_zero_amount_bid_fails_regardless_of_limit ... FAILED

failures:

failures:
    test_investor_kyc::test_investor_kyc::test_bid_exceeding_investment_limit_fails
    test_investor_kyc::test_investor_kyc::test_bid_within_investment_limit_succeeds
    test_investor_kyc::test_investor_kyc::test_complete_investor_workflow
    test_investor_kyc::test_investor_kyc::test_investor_without_kyc_cannot_bid
    test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_false_for_none
    test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_false_for_pending
    test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_false_for_rejected
    test_investor_kyc::test_investor_kyc::test_is_investor_verified_returns_true_for_verified
    test_investor_kyc::test_investor_kyc::test_is_investor_verified_with_different_risk_levels
    test_investor_kyc::test_investor_kyc::test_limit_update_applies_to_new_bids_only
    test_investor_kyc::test_investor_kyc::test_multiple_investors_competitive_bidding
    test_investor_kyc::test_investor_kyc::test_multiple_investors_different_limits
    test_investor_kyc::test_investor_kyc::test_rejected_investor_cannot_bid
    test_investor_kyc::test_investor_kyc::test_unverified_investor_cannot_bid
    test_investor_kyc::test_investor_kyc::test_validate_investor_investment_at_limit_boundary
    test_investor_kyc::test_investor_kyc::test_validate_investor_investment_multiple_bids_independent_validation
    test_investor_kyc::test_investor_kyc::test_validate_investor_investment_over_limit
    test_investor_kyc::test_investor_kyc::test_validate_investor_investment_pending_investor
    test_investor_kyc::test_investor_kyc::test_validate_investor_investment_rejected_investor
    test_investor_kyc::test_investor_kyc::test_validate_investor_investment_unverified_investor
    test_investor_kyc::test_investor_kyc::test_validate_investor_investment_within_limit
    test_investor_kyc::test_investor_kyc::test_zero_amount_bid_fails_regardless_of_limit

test result: FAILED. 20 passed; 22 failed; 0 ignored; 0 measured; 781 filtered out; finished in 0.91s

error: test failed, to rerun pass `--lib`
